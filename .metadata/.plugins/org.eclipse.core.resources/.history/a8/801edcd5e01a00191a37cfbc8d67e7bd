<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core"  prefix="c"%>
<%@ taglib prefix="s" uri="/struts-tags" %>
<jsp:include page="./template.jsp">
	<jsp:param value="商品リスト" name="title"  />
	<jsp:param value="false" name="showSlider"/>
	<jsp:param value="true" name="showSideMenu"/>
	<jsp:param value="true" name="showMain"/>
	<jsp:param name="content">
		<jsp:attribute name="value">
			<h1>商品リスト</h1>
			<table class="itemList" border="1">
				<tr>
					<th style="width: 100px">商品名</th>
					<th style="width: 100px">商品価格</th>
					<th style="width: 100px">残量</th>
					<s:if test="session.isLogin == true">
						<th>カートに追加</th>
					</s:if>
				</tr>
				<s:iterator value="itemList">
					<tr>
						<td>
							<a href="/ShoppingSite/ItemPageAction.action?id=<c:out value="${item_id}" />"><s:property value="item_name" /></a>
						</td>
						<td><s:property value="item_price" />円</td>
						<td><s:property value="item_count" />個</td>
						<s:if test="session.isLogin == true">
							<td>
								<form name="AddItemAction" action="/ShoppingSite/AddItemAction.action" method="post" class="form">
								<input type="number" name="request_Quantity" value='<s:property value="1" />' style="width:50px; text-align: right; padding:2px">個
								<input type="hidden" name="item_id" value='<s:property value="item_id" />'>
								<input type="submit" value="追加"/>
								</form>
							</td>
						</s:if>
					</tr>
				</s:iterator>
			</table>
			<div class="centers" style="border: solid 1px black">
				<s:if test="session.isAdmin == true">
					<p class="text-center">管理者用追加</p>
					<form name="AddItemAction" action="/ShoppingSite/AddItemAction.action" method="post" class="form">
						<input type="number" name="quantity" />
						<input type="text" name="title"
						<input type="submit" value="商品を追加する"/>
					</form>
				</s:if>
			</div>
		</jsp:attribute>
	</jsp:param>
</jsp:include>