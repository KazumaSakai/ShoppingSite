//	Load CSV

async function asyncStart()
{
	var dataSet = await d3.csv("d3.csv");

	d3.select("#myGraph")
		.selectAll("rect")
		.data(dataSet)
		.enter()
		.append("rect")
		.attr("x", function(d, i)
				{
					return (i * 8) + 2;
				})
		.attr("y", "250px"
		.on("click", function(){
			d3.select(this)
				.style("fill", "cyan")
			})
		.attr("height", "5px")
		.attr("width", "0px")
		.transition()
		.delay(function(d, i)
			{
				return i * 500;
			})
		.duration(2500)
		.attr("width", function(d, i)
				{
					return d.item1 + "px";
				});

	var xScale = d3.scaleLinear()
		.domain([0, 300])
		.range([0, 300]);
	
	d3.select("#myGraph")
		.append("g")
		.attr("class", "axis")
		.attr("transform", "translate(10, " + ((dataSet.length) * 8 + 2) + ")")
		.call(d3.axisBottom(xScale));
}

asyncStart();
